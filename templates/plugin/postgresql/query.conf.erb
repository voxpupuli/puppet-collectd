  <Query <%= @name %>>
    Statement "<%= @statement %>"
<% if @params -%>
<% @params.each do |param| -%>
    Param "<%= param %>"
<% end -%>
<% end -%>
<% if @minversion -%>
    MinVersion <%= @minversion %>
<% end -%>
<% if @maxversion -%>
    MaxVersion <%= @maxversion %>
<% end -%>
<% @results.each do |result| -%>
      <Result>
        Type "<%= result['type'] %>"
<% if result['instanceprefix'] -%>
        InstancePrefix "<%= result['instanceprefix'] %>"
<% end -%>
<% if result['instancesfrom'] -%>
        InstancesFrom "<%= result['instancesfrom'] %>"
<% end -%>
<%- if result['valuesfrom'].is_a?(Array) -%>
<%- result['valuesfrom'].each do |v| -%>
        ValuesFrom "<%= v %>"
<%- end -%>
<%- else -%>
        ValuesFrom "<%= result['valuesfrom'] %>"
<%- end -%>
    </Result>
<% end -%>
  </Query>
